"use strict";(self.webpackChunktask_page=self.webpackChunktask_page||[]).push([[494],{494:(e,l,i)=>{i.r(l),i.d(l,{CompanyPage:()=>x,default:()=>N});var s=i(43),c=i(216),a=i(962),d=i(125),n=i(919),t=i(438),r=i(197),h=i(925),m=i(333),v=i(579);const f="\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e",o=new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});function x(){const e=(0,d.Us)(),{taskID:l,companyID:i}=(0,c.g)(),x=(0,m.b)(l),[N,j]=(0,s.useState)(),[E,p]=(0,s.useState)([]);function A(e){e.preventDefault();const l=e.target;Telegram.WebApp.openLink(l.href)}function T(e,l){e.preventDefault(),navigator.clipboard.writeText(l.VALUE).then((()=>Telegram.WebApp.showAlert("\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d"))).catch(console.error)}return(0,s.useEffect)((()=>{const s=e.tasks.find((e=>e.id===l));s&&a.u.getCompanies(e,s).then((e=>j(e.find((e=>e.ID===i))))).catch(console.error)}),[l,i]),(0,s.useEffect)((()=>{x&&a.u.getContacts(e,x).then(p)}),[x]),(0,v.jsxs)("div",{className:"wrapper",children:[(0,v.jsx)("div",{className:"wrapper-header",children:(0,v.jsx)(r.h,{children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f "+(N?"#"+N.ID:"")})}),(0,v.jsx)("div",{className:"wrapper-content",children:(0,v.jsxs)(n.m,{children:[(0,v.jsx)(h.e,{className:"client client-container pd",children:!!N&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),(0,v.jsx)("div",{className:"client-field-val",children:N.TITLE||f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u0422\u0438\u043f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),(0,v.jsx)("div",{className:"client-field-val",children:N.COMPANY_TYPE||f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),N.PHONE.length?N.PHONE.map((e=>(0,v.jsx)("div",{className:"client-field-val",children:(0,v.jsx)("a",{className:"client-phone",href:`tel:${e.VALUE}`,onTouchEnd:l=>T(l,e),children:e.VALUE})}))):(0,v.jsx)("div",{className:"client-field-val",children:f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"E-mail"}),(0,v.jsx)("div",{className:"client-field-val",children:N.EMAIL||f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u0413\u043e\u0440\u043e\u0434"}),(0,v.jsx)("div",{className:"client-field-val",children:N.UF_CITY_LIST||f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u0410\u0434\u0440\u0435\u0441"}),(0,v.jsx)("div",{className:"client-field-val",children:N.ADDRESS})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u0421\u0430\u0439\u0442"}),N.WEB.length>0?N.WEB.map((e=>(0,v.jsx)("div",{className:"client-field-val",children:(0,v.jsx)("a",{href:e.VALUE,onTouchEnd:A,children:e.VALUE})},e.ID))):(0,v.jsx)("div",{className:"client-field-val",children:f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),(0,v.jsx)("div",{className:"client-field-val",children:N.COMMENTS||f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f"}),(0,v.jsx)("div",{className:"client-field-val",children:N.UF_SOURCE_IB||f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u044f"}),(0,v.jsx)("div",{className:"client-field-val",children:N.UF_LAST_ACTIVITY?o.format(N.UF_LAST_ACTIVITY):f})]}),(0,v.jsxs)("div",{className:"client-field",children:[(0,v.jsx)("div",{className:"client-field-descr",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0432 mawi"}),(0,v.jsx)("div",{className:"client-field-val",children:N.UF_EXT_DATE_CREATE?o.format(N.UF_EXT_DATE_CREATE):f})]})]})}),E.length>0&&(0,v.jsx)(h.e,{className:"mt",children:(0,v.jsx)(t.n,{title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",children:(0,v.jsx)("div",{className:"company-contacts",children:E.map((e=>(0,v.jsxs)("div",{className:"contact",children:[(0,v.jsx)("div",{className:"contact-descr",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439"}),(0,v.jsx)("div",{className:"contact-name mb",children:`${e.LAST_NAME} ${e.NAME}`}),!!e.POST&&(0,v.jsx)("div",{className:"contact-value",children:e.POST}),e.PHONE.map((l=>(0,v.jsx)("div",{className:"contact-value",children:(0,v.jsx)("a",{className:"contact-phone",href:`tel:${l.VALUE}`,onTouchEnd:e=>T(e,l),children:l.VALUE},e.ID)}))),e.EMAIL.length>0&&e.EMAIL.map((e=>(0,v.jsx)("div",{className:"contact-value",children:(0,v.jsx)("a",{href:`mailto:${e.VALUE}`,onTouchEnd:l=>function(e,l){e.preventDefault(),navigator.clipboard.writeText(l.VALUE).then((()=>Telegram.WebApp.showAlert("e-mail \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d"))).catch(console.error)}(l,e),children:e.VALUE})},e.ID)))]})))})})})]})})]})}const N=x}}]);
//# sourceMappingURL=494.5aa8d524.chunk.js.map